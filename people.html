<!DOCTYPE html>
<html xmlns:xlink="http://www.w3.org/1999/xlink">
    <head>
        <meta charset="utf-8">
        <link href='https://fonts.googleapis.com/css?family=Hind' rel='stylesheet' type='text/css'>
        <title>NicLabs</title>
        <link href="css/style.css" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <div class="content-people">
            <!-- TITULO -->
            <div class="title">
                <img src=images/HEADER.png>
            </div>

            <!-- MENU -->
            <div class="menu-people">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="research.html">RESEARCH</a></li>
                    <li><a href="people.html">PEOPLE</a></li>
                </ul>
            </div>
            <!-- CABECERA -->
            <div class="cabecera-people">
                <img src="images/people-HEADER1.png">
            </div>
    <div id="researcher" class="seccion">
<h1 id="title-reseachers">RESEACHERS</h1><br>
</div>
    <div id="pro" class="seccion"><h1 id="title-reseachers">PROFESSIONAL ASSISTANCE</h1><br></div>
    <div id="external" class="seccion"><h1 id="title-reseachers">EXTERNAL COLLABORATORS</h1><br></div>
    <div id="grad" class="seccion"><h1 id="title-reseachers">GRAD STUDENTS</h1><br></div>
    <div id="under" class="seccion"><h1 id="title-reseachers">UNDERGRAD / TRAINEES</h1><br></div>
    <div id="alumni" class="seccion"><h1 id="title-reseachers">ALUMNI</h1><br></div>
    <div id="footerfinal-people" class="seccion">
                <img src="images/FOOTERFINAL2.png">
            </div>
    </div>
    </body>
<script src="js/d3.v4.min.js"></script>
<script src="js/d3-scale-chromatic.v1.min.js"></script>

<script>
var color = d3.scaleOrdinal(d3.schemeSet1);
d3.json("people.json", function(error, data) {
  if (error) throw error;

  data.sort(function(a,b) {return d3.ascending(a.last,b.last);});
  var h = {};

  h['r'] = data.filter(function f(d) { return d.group == 'researcher';});
  h['p'] = data.filter(function f(d) { return d.group == 'pro';});
  h['e'] = data.filter(function f(d) { return d.group == 'external';});
  h['s'] = data.filter(function f(d) { return d.group == 'grad';});
  h['u'] = data.filter(function f(d) { return d.group == 'under';});
  h['a'] = data.filter(function f(d) { return d.group == 'alumni';});

  for (var k in h) {
    var div = d3.select("#"+h[k][0].group)
            .selectAll("div")
            .data(h[k])
            .enter()
              .append("div")
              .attr("class","people")

    div.append("img")
     .attr("class","foto")
     .attr("src",function f(d) { return d.picurl; });

    div.append("p")
     .attr("class","names")
     .text(function f(d) { return d.name+" "+d.last;});

  if (k != 'p') {
    div.append("p")
     .attr("class","text")
     .text(function f(d) { return d.aff; });
  } else {
    div.append("p")
     .attr("class","text")
     .text(function f(d) { return d.job; });
  }
  div.append("div")
     .attr("class","rrss")
     .each(function f(d) {
       if (d.www != "") {
       d3.select(this).append("a")
        .attr("href", function f(d) { return d.www; })
        .append("img").attr("class","rs").attr("src", "images/logowww.png");
       }
       if (d.twitter != "") {
       d3.select(this).append("a")
        .attr("href", function f(d) {
           return "http://www.twitter.com/"+d.twitter; 
        })
        .append("img").attr("class","rs").attr("src", "images/logotw.png");
       }
       if (d.github != "") {
       d3.select(this).append("a")
        .attr("href", function f(d) { 
           return "http://www.github.com/"+d.github;
        })
        .append("img").attr("class","rs").attr("src", "images/logogh.png");
       }
     })
  }
});
</script>
</html>
